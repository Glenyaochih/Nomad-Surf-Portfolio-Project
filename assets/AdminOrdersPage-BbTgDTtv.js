import{u as A,b as m,a as n,a9 as D,j as e,aa as E,ab as I,ac as S,ad as M,ae as P,af as W}from"./index-CPSsFzsY.js";import{A as F,a as T}from"./AdminMessageModal-BkhRFMHs.js";import{f as B,g as _}from"./index-C6AMSYZX.js";import"./bootstrap.esm-D2MXRMDr.js";function q(){const t=A(),c=m(s=>s.adminGetOrders.orders),l=m(s=>s.adminPutOrder.tempOrder),p=m(s=>s.adminDelOrders.idContainer),[u,h]=n.useState(""),[g,x]=n.useState(!1),[N,r]=n.useState(!1),[o,j]=n.useState(!1),f=(s,a)=>{const{checked:i}=s.target;t(E({checked:i,orderId:a}))},b=()=>{t(I())},y=()=>{t(S())},v=s=>{h(s.id),t(M(s))},d=s=>{const{name:a,value:i,checked:w,type:C}=s.target,k=s.target.dataset.user;t(P({name:a,value:i,checked:w,type:C,userType:k}))},O=()=>{t(W())};return n.useEffect(()=>{t(D({}))},[t]),e.jsxs(e.Fragment,{children:[e.jsx(F,{isOpen:N,setIsOpen:r,action:o?y:b,isDelAll:o,deleteTitle:"刪除訂單",items:c,itemName:"id",idContainer:p}),e.jsxs("div",{children:[e.jsxs("div",{className:" banner mb-4",children:[e.jsx("h5",{className:"fs-5 mt-4 mb-7",children:"訂單管理"}),e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsxs("div",{className:"ms-auto",children:[e.jsxs("button",{onClick:()=>{j(!1),r(!0)},className:"btn btn-dark text-white border deleteButton px-4",children:[e.jsx("i",{className:"bi bi-trash text-white me-1"}),"刪除訂單"]}),e.jsxs("button",{onClick:()=>{j(!0),r(!0)},className:"btn btn-dark text-white border deleteButton px-4",children:[e.jsx("i",{className:"bi bi-trash text-white me-1"}),"刪除全部訂單"]})]})})]}),e.jsx("div",{className:"table-responsive position-relative",children:e.jsx("div",{className:"table-container border d-flex","data-bs-spy":"scroll","data-bs-target":"#productTableBody","data-bs-offset":"0",tabIndex:"0",children:e.jsxs("table",{className:"table productManager rounded-table table-container table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"",scope:"col",style:{width:"80px"},children:"#"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"修改"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"客戶名稱"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"地址"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"電話"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"email"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"留言"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"訂單建立時間"}),e.jsx("th",{scope:"col",style:{width:"250px"},children:"訂單號碼"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"付款狀態"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"訂單金額"})]})}),e.jsx("tbody",{className:"rounded-bottom",children:c==null?void 0:c.map((s,a)=>e.jsx("tr",{className:"",children:s.id!==u?e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"col",className:"align-middle",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{onChange:i=>{f(i,s.id)},className:"form-check-input ms-0",type:"checkbox",value:s.id,id:s.id}),e.jsx("label",{className:"form-check-label",htmlFor:s.id,children:a+1})]})}),e.jsx("td",{className:"align-middle",children:e.jsx("button",{className:"btn",onClick:()=>{x(!0),v(s)},disabled:g,children:e.jsx(B,{})})}),e.jsx("td",{className:"align-middle",children:s.user.name}),e.jsx("td",{className:"align-middle",children:s.user.address}),e.jsx("td",{className:"align-middle",children:s.user.tel}),e.jsx("td",{className:"align-middle",children:s.user.email}),e.jsx("td",{className:"align-middle",children:s.message}),e.jsx("td",{className:"align-middle",children:s.create_at}),e.jsx("td",{className:"align-middle",children:s.id}),e.jsx("td",{className:`align-middle ${s.is_paid?"text-success-100":"text-accent-100"}`,children:s.is_paid?"已付款":"未付款"}),e.jsxs("td",{className:"align-middle",children:[s.total,"$"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"row",className:"align-middle",children:e.jsx("label",{className:"mt-1",children:a+1})}),e.jsx("td",{className:"align-middle",children:e.jsx("button",{className:"btn",onClick:()=>{x(!1),h(""),O()},children:e.jsx(_,{})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.name,onChange:d,"data-user":"user",name:"name",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.address,onChange:d,"data-user":"user",name:"address",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.tel,onChange:d,"data-user":"user",name:"tel",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.email,onChange:d,"data-user":"user",name:"email",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.message,onChange:d,name:"message",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{}),e.jsx("td",{})]})},s.id))})]})})}),e.jsx(T,{pageState:"orders"})]})]})}export{q as default};
