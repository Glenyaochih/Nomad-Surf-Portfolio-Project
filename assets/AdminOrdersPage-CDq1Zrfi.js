import{u as v,a as h,b as c,a5 as O,j as e,a6 as w,a7 as C,a8 as k,a9 as A,aa as E,ab as D}from"./index-Dppbq8ve.js";import{A as I}from"./AdminPagination-DF_v-Se-.js";import{f as P,g as S}from"./index-Bf0SCmEq.js";function B(){const t=v(),n=h(s=>s.adminGetOrders.orders),l=h(s=>s.adminPutOrder.tempOrder),[x,r]=c.useState(""),[o,m]=c.useState(!1),j=(s,a)=>{const{checked:i}=s.target;t(w({checked:i,orderId:a}))},p=()=>{t(C())},u=()=>{t(k())},g=s=>{r(s.id),t(A(s))},d=s=>{const{name:a,value:i,checked:b,type:f}=s.target,y=s.target.dataset.user;t(E({name:a,value:i,checked:b,type:f,userType:y}))},N=()=>{t(D())};return c.useEffect(()=>{t(O({}))},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{className:" banner mb-4",children:[e.jsx("h5",{className:"fs-5 mt-4 mb-7",children:"訂單管理"}),e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsxs("div",{className:"ms-auto",children:[e.jsxs("button",{onClick:p,className:"btn btn-dark text-white border deleteButton px-4",children:[e.jsx("i",{className:"bi bi-trash text-white me-1"}),"刪除訂單"]}),e.jsxs("button",{onClick:u,className:"btn btn-dark text-white border deleteButton px-4",children:[e.jsx("i",{className:"bi bi-trash text-white me-1"}),"刪除全部訂單"]})]})})]}),e.jsx("div",{className:"table-responsive position-relative",children:e.jsx("div",{className:"table-container border d-flex","data-bs-spy":"scroll","data-bs-target":"#productTableBody","data-bs-offset":"0",tabIndex:"0",children:e.jsxs("table",{className:"table productManager rounded-table table-container table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"",scope:"col",style:{width:"80px"},children:"#"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"修改"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"客戶名稱"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"地址"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"電話"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"email"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"留言"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"訂單建立時間"}),e.jsx("th",{scope:"col",style:{width:"250px"},children:"訂單號碼"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"付款狀態"}),e.jsx("th",{scope:"col",style:{width:"200px"},children:"訂單金額"})]})}),e.jsx("tbody",{className:"rounded-bottom",children:n==null?void 0:n.map((s,a)=>e.jsx("tr",{className:"",children:s.id!==x?e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"col",className:"align-middle",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{onChange:i=>{j(i,s.id)},className:"form-check-input ms-0",type:"checkbox",value:s.id,id:s.id}),e.jsx("label",{className:"form-check-label",htmlFor:s.id,children:a+1})]})}),e.jsx("td",{className:"align-middle",children:e.jsx("button",{className:"btn",onClick:()=>{m(!0),g(s)},disabled:o,children:e.jsx(P,{})})}),e.jsx("td",{className:"align-middle",children:s.user.name}),e.jsx("td",{className:"align-middle",children:s.user.address}),e.jsx("td",{className:"align-middle",children:s.user.tel}),e.jsx("td",{className:"align-middle",children:s.user.email}),e.jsx("td",{className:"align-middle",children:s.message}),e.jsx("td",{className:"align-middle",children:s.create_at}),e.jsx("td",{className:"align-middle",children:s.id}),e.jsx("td",{className:`align-middle ${s.is_paid?"text-success-100":"text-accent-100"}`,children:s.is_paid?"已付款":"未付款"}),e.jsxs("td",{className:"align-middle",children:[s.total,"$"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"row",className:"align-middle",children:e.jsx("label",{className:"mt-1",children:a+1})}),e.jsx("td",{className:"align-middle",children:e.jsx("button",{className:"btn",onClick:()=>{m(!1),r(""),N()},children:e.jsx(S,{})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.name,onChange:d,"data-user":"user",name:"name",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.address,onChange:d,"data-user":"user",name:"address",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.tel,onChange:d,"data-user":"user",name:"tel",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.user.email,onChange:d,"data-user":"user",name:"email",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{className:"align-middle",children:e.jsx("div",{className:"d-flex justify-content-center ",children:e.jsx("input",{value:l.message,onChange:d,name:"message",style:{maxWidth:"150px",height:"40px"},type:"text",className:"form-control fs-7"})})}),e.jsx("td",{}),e.jsx("td",{})]})},s.id))})]})})}),e.jsx(I,{pageState:"orders"})]})})}export{B as default};
