import{u as h,c as p,b as t,a as j,q as f,j as e,t as o,v as N,w as v}from"./index-BaM1-lcv.js";import{O as g}from"./OutlineButton-Bame56LJ.js";import{u as y}from"./index.esm-DlbUiYSI.js";import{b as w,c as S,s as $}from"./userSelectors-CwSstDsl.js";import{S as L}from"./ScreenLoading-BO5LKr6p.js";import"./reselect-CiXCCDx7.js";import"./animation-DR5N1PjO.js";function z(){const r=h(),m=p(),a=t(w),d=t(S),n=t($),{register:l,handleSubmit:u,formState:{errors:s},reset:x}=y({mode:"onTouched"}),b=i=>{const{...c}=i;r(a?N(c):v(c)),x()};return j.useEffect(()=>{const i=document.cookie.replace(/(?:(?:^|.*;\s*)usersToken\s*=\s*([^;]*).*$)|^.*$/,"$1");f.defaults.headers.common.Authorization=i,n&&m("/")},[n,m]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"member-login",children:[e.jsxs("div",{className:"container",children:[e.jsx("section",{children:e.jsx("div",{className:"py-5",children:e.jsx("nav",{"aria-label":"breadcrumb ",children:e.jsxs("ol",{className:"breadcrumb mb-0 py-2 ",children:[e.jsx("li",{className:"breadcrumb-item text-neutral-60 ",children:e.jsx("a",{className:"fs-8 fs-sm-7 text-neutral-60",href:"#",lang:"zh-TW",children:"首頁"})}),e.jsx("li",{className:"breadcrumb-item text-neutral-60","aria-current":"page",children:"會員登入"})]})})})}),e.jsx("section",{children:e.jsx("div",{className:"d-flex justify-content-center py-sm-14 pb-11",children:e.jsxs("div",{className:"bg-neutral-10  rounded-4 px-5 py-11 input-box w-100",children:[e.jsx("h5",{className:"text-center mb-11",children:a?"登入會員":"註冊會員"}),e.jsxs("form",{onSubmit:u(b),children:[e.jsxs("div",{className:"mb-7",children:[e.jsx("label",{htmlFor:"memberEmail",className:"form-label fs-9 text-neutral-60",children:"會員帳號"}),e.jsx("input",{...l("email",{required:"請填入會員帳號",pattern:{value:/^[^@\s]+@[^@\s]+\.[^@\s]+$/},message:"Email 格式不正確"}),type:"email",className:`form-control ${s.email&&"is-invalid"}`,id:"memberEmail",placeholder:"請輸入會員帳號",autoComplete:"user-account"}),s.email&&e.jsx("div",{className:"invalid-feedback",children:s.email.message})]}),e.jsxs("div",{className:"mb-7",children:[e.jsx("label",{htmlFor:"memberPassword",className:"form-label fs-9 text-neutral-60",children:"密碼"}),e.jsx("input",{...l("password",{required:"請輸入密碼",minLength:{value:8,message:"密碼至少8碼"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])(?=.{8,})/,message:"密碼必須包含至少一個大寫字母、一個小寫字母、一個數字和一個特殊字符"}}),type:"password",className:`form-control ${s.password&&"is-invalid"}`,id:"memberPassword",placeholder:"請輸入會員密碼",autoComplete:"current-password"}),s.password&&e.jsx("div",{className:"invalid-feedback",children:s.password.message})]}),a!==!0&&e.jsxs("div",{className:"mb-7",children:[e.jsx("label",{htmlFor:"memberName",className:"form-label fs-9 text-neutral-60",children:"使用者名稱"}),e.jsx("input",{...l("name",{required:{value:!0,message:"請輸入使用者名稱"}}),type:"text",className:`form-control ${s.name&&"is-invalid"}`,id:"memberName",placeholder:"請輸入會員名稱"}),s.name&&e.jsx("div",{className:"invalid-feedback",children:s.name.message})]}),e.jsx("div",{className:"d-grid",children:e.jsx("button",{type:"submit",className:"btn btn-primary-100 rounded-2",children:a?"立即登入":"立即註冊"})})]}),e.jsx("hr",{className:"mt-11 mb-7"}),e.jsxs("div",{className:"d-flex justify-content-center",children:[e.jsx("h6",{className:"fs-7 me-3",children:a?"還不是會員?":"已經是會員?"}),e.jsx(g,{btnName:a?"點此註冊":"點此登入",event:()=>r(a?o(!1):o(!0))})]})]})})})]}),e.jsx(L,{loadingSource:d})]})})}export{z as default};
